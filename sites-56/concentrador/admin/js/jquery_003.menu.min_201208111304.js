(function($){$.fn.supertextarea=function(faith){var area=$(this);var cont=area.parent();var hope={minw:area.width(),maxw:cont.width(),minh:area.height(),maxh:cont.height(),tabr:{use:true,space:true,num:3},css:{},maxl:1000,dsrm:{use:true,text:'Remaining',css:{}}}var love={}var justice=$.extend(love,hope,faith);if(!justice.minh){justice.minh=area.height();}if(!justice.minw){justice.minw=area.width();}if(justice.maxh<justice.minh){justice.maxh=justice.minh;}if(justice.maxw<justice.minw){justice.maxw=justice.minw;}area.css(justice.css);area.height(justice.minh).width(justice.minw);if(justice.tabr.use&&justice.tabr.num<1){justice.tabr.num=1;}var rep_css=['paddingTop','paddingRight','paddingBottom','paddingLeft','fontSize','lineHeight','fontFamily','fontWeight'];if(typeof $.fn.supertextarea.counter=='undefined'){$.fn.supertextarea.counter=0;}var idcounter=$.fn.supertextarea.counter;$.fn.supertextarea.counter++;this.each(function(){if(this.type!='textarea'){return false;}var beh=$('<div />').css({'position':'absolute','display':'none','word-wrap':'break-word'});var line=parseInt(area.css('line-height'))||parseInt(area.css('font-size'));var goalheight=0;beh.appendTo(area.parent());for(var i=0;i<rep_css.length;i++){beh.css(rep_css[i].toString(),area.css(rep_css[i].toString()));}beh.css('max-width',justice.maxw);function eval_height(height,overflow){nh=Math.floor(parseInt(height));if(area.height()!=nh){area.css({'height':nh+'px','overflow-y':overflow});}}function eval_width(width,overflow){nw=Math.floor(parseInt(width));if(area.width()!=nw){area.css({'width':nw+'px','overflow-x':overflow});}}function update(e){if(justice.dsrm.use&&justice.maxl){if(!$("#textarea_dsrm"+area.data('partner')).length){var dsm=document.createElement('div');dsm.id="textarea_dsrm"+idcounter;$(dsm).text(justice.maxl+' '+justice.dsrm.text);$(dsm).css(justice.dsrm.css);area.after(dsm);area.data('partner',idcounter);}var txt=justice.maxl-area.val().length;txt=txt<0?0:txt;$("#textarea_dsrm"+area.data('partner')).text(txt+' '+justice.dsrm.text);}if(justice.maxl&&justice.maxl-area.val().length<0){area.val(area.val().substring(0,justice.maxl));}var ac=area.val().replace(/&/g,'&amp;').replace(/  /g,'&nbsp;&nbsp;').replace(/<|>/g,'&gt;').replace(/\n/g,'<br />');var bc=beh.html();if(ac+'&nbsp;'!=bc){beh.html(ac+'&nbsp;');if(Math.abs(beh.height()+line-area.height())>3){var nh=beh.height()+line;var maxh=justice.maxh;var minh=justice.minh;if(nh>=maxh){eval_height(maxh,'auto');}else if(nh<=minh){eval_height(minh,'hidden');}else{eval_height(nh,'hidden');}}if(Math.abs(beh.width()+line-area.width())>3){var nw=beh.width()+line;var maxw=justice.maxw;var minw=justice.minw;if(nw>=maxw){eval_width(maxw,'auto');}else if(nw<=minw){eval_width(minw,'hidden');}else{eval_width(nw,'hidden');}}}if(justice.tabr.use&&e){tab_replace(e);}}function tab_replace(e){var key=e.keyCode?e.keyCode:e.charChode?e.charCode:e.which;var sp=justice.tabr.space?" ":"\t";var str=new Array(justice.tabr.num+1).join(sp);if(key==9&&!e.shiftKey&&!e.ctrlKey&&!e.altKey){var os=area.scrollTop();if(area.setSelectionRange){var ss=area.selectionStart;var se=area.selectionEnd;area.val(area.val().substring(0,ss)+str+area.val.substr(se));area.focus();}else if(area.createTextRange){document.selection.createRange().text=str;e.returnValue=false;}else{area.val(area.val()+str);}area.scrollTop(os);if(e.preventDefault){e.preventDefault();}return false;return true;}area.css({'overflow':'auto'}).keydown(function(e){update(e);}).live('input paste',function(){setTimeout(update,250);});update();});}})(jQuery);(function(jQuery){jQuery.each(['backgroundColor','borderBottomColor','borderLeftColor','borderRightColor','borderTopColor','color','outlineColor'],function(i,attr){jQuery.fx.step[attr]=function(fx){if(fx.state==0){fx.start=getColor(fx.elem,attr);fx.end=getRGB(fx.end);}if(fx.start)fx.elem.style[attr]="rgb("+[Math.max(Math.min(parseInt((fx.pos*(fx.end[0]-fx.start[0]))+fx.start[0]),255),0),Math.max(Math.min(parseInt((fx.pos*(fx.end[1]-fx.start[1]))+fx.start[1]),255),0),Math.max(Math.min(parseInt((fx.pos*(fx.end[2]-fx.start[2]))+fx.start[2]),255),0)].join(",")+")";}});function getRGB(color){var result;if(color&&color.constructor==Array&&color.length==3)return color;if(result=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(color))return[parseInt(result[1]),parseInt(result[2]),parseInt(result[3])];if(result=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(color))return[parseFloat(result[1])*2.55,parseFloat(result[2])*2.55,parseFloat(result[3])*2.55];if(result=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(color))return[parseInt(result[1],16),parseInt(result[2],16),parseInt(result[3],16)];if(result=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(color))return[parseInt(result[1]+result[1],16),parseInt(result[2]+result[2],16),parseInt(result[3]+result[3],16)];return colors[jQuery.trim(color).toLowerCase()];}function getColor(elem,attr){var color;do{color=jQuery.curCSS(elem,attr);if(color!=''&&color!='transparent'||jQuery.nodeName(elem,"body"))break;attr="backgroundColor";}while(elem=elem.parentNode);return getRGB(color);};var colors={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]};})(jQuery);(function($){$.fn.lavaLamp=function(o){o=$.extend({fx:"linear",speed:500,click:function(){}},o||{});return this.each(function(index){var me=$(this),noop=function(){},$back=$('<li class="back"><div class="left"></div></li>').appendTo(me),$li=$(">li",this),curr=$("li.current",this)[0]||$($li[0]).addClass("current")[0];$li.not(".back").hover(function(){move(this);},noop);$(this).hover(noop,function(){move(curr);});$li.click(function(e){setCurr(this);return o.click.apply(this,[e,this]);});setCurr(curr);function setCurr(el){$back.css({"left":el.offsetLeft+"px","width":el.offsetWidth+"px"});curr=el;};function move(el){$back.each(function(){$.dequeue(this,"fx");}).animate({width:el.offsetWidth,left:el.offsetLeft},o.speed,o.fx);};if(index==0){$(window).resize(function(){$back.css({width:curr.offsetWidth,left:curr.offsetLeft});});}});};})(jQuery);jQuery.easing={easein:function(x,t,b,c,d){return c*(t/=d)*t+b},easeinout:function(x,t,b,c,d){if(t<d/2)return 2*c*t*t/(d*d)+b;var a=t-d/2;return-2*c*a*a/(d*d)+2*c*a/d+c/2+b},easeout:function(x,t,b,c,d){return-c*t*t/(d*d)+2*c*t/d+b},expoin:function(x,t,b,c,d){var a=1;if(c<0){a*=-1;c*=-1}return a*(Math.exp(Math.log(c)/d*t))+b},expoout:function(x,t,b,c,d){var a=1;if(c<0){a*=-1;c*=-1}return a*(-Math.exp(-Math.log(c)/d*(t-d))+c+1)+b},expoinout:function(x,t,b,c,d){var a=1;if(c<0){a*=-1;c*=-1}if(t<d/2)return a*(Math.exp(Math.log(c/2)/(d/2)*t))+b;return a*(-Math.exp(-2*Math.log(c/2)/d*(t-d))+c+1)+b},bouncein:function(x,t,b,c,d){return c-jQuery.easing['bounceout'](x,d-t,0,c,d)+b},bounceout:function(x,t,b,c,d){if((t/=d)<(1/2.75)){return c*(7.5625*t*t)+b}else if(t<(2/2.75)){return c*(7.5625*(t-=(1.5/2.75))*t+.75)+b}else if(t<(2.5/2.75)){return c*(7.5625*(t-=(2.25/2.75))*t+.9375)+b}else{return c*(7.5625*(t-=(2.625/2.75))*t+.984375)+b}},bounceinout:function(x,t,b,c,d){if(t<d/2)return jQuery.easing['bouncein'](x,t*2,0,c,d)*.5+b;return jQuery.easing['bounceout'](x,t*2-d,0,c,d)*.5+c*.5+b},elasin:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b},elasout:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b},elasinout:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d/2)==2)return b+c;if(!p)p=d*(.3*1.5);if(a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);if(t<1)return-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b},backin:function(x,t,b,c,d){var s=1.70158;return c*(t/=d)*t*((s+1)*t-s)+b},backout:function(x,t,b,c,d){var s=1.70158;return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},backinout:function(x,t,b,c,d){var s=1.70158;if((t/=d/2)<1)return c/2*(t*t*(((s*=(1.525))+1)*t-s))+b;return c/2*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2)+b},linear:function(x,t,b,c,d){return c*t/d+b}};